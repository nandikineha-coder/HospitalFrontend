
<nav class="navbar navbar-expand-lg navbar-dark shadow-sm">
  <div class="container-fluid d-flex justify-content-between align-items-center">
    <img src="assets/logo.png" alt="Hospital Logo" class="logo" />
    <div class="hospital-name text-white fw-bold fs-4 mx-auto">Happy Health Hospital</div>
     <div class="navbar-right">
    <button (click)="logout()">Logout</button>
  </div>
  </div>
</nav>

<!-- Sidebar + Content -->
<div class="layout">
  <!-- Sidebar -->
  
<div class="sidebar">
    <ul>
      <li (click)="changeOption('home')">Home</li>
      <li (click)="changeOption('profile')">Profile</li>
      <li (click)="changeOption('appointment')">Appointment</li>
      <li (click)="changeOption('appointmentschedule')">Appointment Schedules</li>
      <li (click)="changeOption('medical-history')">Medical History</li>
      <li (click)="changeOption('medicine')">Medicine</li>
    </ul>
  </div>


  <!-- Content Area -->
  <div class="content">
    <ng-container [ngSwitch]="selectedOption">
      <div *ngSwitchCase="'home'">
        <div class="content-area">
          <h3 class="section-title"> Welcome to our service!</h3>

    <!-- Hospital Carousel -->
    <div id="hospitalSlides" class="carousel slide mb-4" data-bs-ride="carousel" data-bs-interval="3000">
      <div class="carousel-inner rounded-3">
          <div class="carousel-item active">
            <img src="assets/user1.png" class="d-block w-100" alt="Hospital 1">
          </div> 
          <div class="carousel-item">
            <img src="assets/user2.png" class="d-block w-100" alt="Hospital 2">
          </div>
          <div class="carousel-item">
            <img src="assets/user3.png" class="d-block w-100" alt="Hospital 3">
          </div>
          <div class="carousel-item">
            <img src="assets/user4.png" class="d-block w-100" alt="Hospital 4">
          </div>
        </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#hospitalSlides" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#hospitalSlides" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

    <!-- Common Diseases Section -->
    <h4 class="section-title mt-4">Common Diseases & Remedies</h4>
    <div id="diseaseSlides" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <!-- Add your disease cards here -->
        <!-- Example: Common Cold -->
        <div class="carousel-item active">
          <div class="card-slide">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Common Cold</h5>
                <h6 class="card-subtitle mb-2 text-muted">Symptoms</h6>
                <p class="card-text">Runny nose, sneezing, sore throat, cough, and general fatigue.</p>
                <h6 class="card-subtitle mb-2 text-muted">Remedies</h6>
                <p class="card-text">Rest, stay hydrated, use a humidifier, and drink warm fluids.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="carousel-item">
  <div class="card-slide">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Fever</h5>
        <h6 class="card-subtitle mb-2 text-muted">Symptoms</h6>
        <p class="card-text">Elevated body temperature, chills, sweating, headache, and weakness.</p>
        <h6 class="card-subtitle mb-2 text-muted">Remedies</h6>
        <p class="card-text">Stay hydrated, rest, use fever-reducing medications like paracetamol.</p>
      </div>
    </div>
  </div>
</div>


<div class="carousel-item">
  <div class="card-slide">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Diarrhea</h5>
        <h6 class="card-subtitle mb-2 text-muted">Symptoms</h6>
        <p class="card-text">Frequent loose stools, abdominal cramps, nausea, and dehydration.</p>
        <h6 class="card-subtitle mb-2 text-muted">Remedies</h6>
        <p class="card-text">Oral rehydration solution (ORS), bland diet, avoid dairy and fatty foods.</p>
      </div>
    </div>
  </div>
</div>


<div class="carousel-item">
  <div class="card-slide">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Ear Infection</h5>
        <h6 class="card-subtitle mb-2 text-muted">Symptoms</h6>
        <p class="card-text">Ear pain, trouble hearing, fever, fluid drainage from ear.</p>
        <h6 class="card-subtitle mb-2 text-muted">Remedies</h6>
        <p class="card-text">Warm compress, pain relievers, consult pediatrician for antibiotics.</p>
      </div>
    </div>
  </div>
</div>


<div class="carousel-item">
  <div class="card-slide">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Skin Rash</h5>
        <h6 class="card-subtitle mb-2 text-muted">Symptoms</h6>
        <p class="card-text">Redness, itching, bumps or patches on skin.</p>
        <h6 class="card-subtitle mb-2 text-muted">Remedies</h6>
        <p class="card-text">Apply soothing lotion, avoid irritants, consult doctor if persistent.</p>
      </div>
    </div>
  </div>
</div>


<div class="carousel-item">
  <div class="card-slide">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Constipation</h5>
        <h6 class="card-subtitle mb-2 text-muted">Symptoms</h6>
        <p class="card-text">Infrequent bowel movements, hard stools, abdominal discomfort.</p>
        <h6 class="card-subtitle mb-2 text-muted">Remedies</h6>
        <p class="card-text">Increase fiber intake, drink water, gentle exercise, pediatric laxatives if advised.</p>
      </div>
    </div>
  </div>
</div>

        <!-- Add more carousel items for other diseases -->
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#diseaseSlides" data-bs-slide="prev">
        <span class="carousel-control-prev-icon bg-dark rounded-circle" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#diseaseSlides" data-bs-slide="next">
        <span class="carousel-control-next-icon bg-dark rounded-circle" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

    <hr class="my-5">

    <!-- Body Map Section -->
    <h4 class="section-title">Find the Right Doctor</h4>
    <div class="body-map-section">
      <p>Identify the body part and find the specialist you need to see.</p>
      <div class="body-map-container">
        

        
<a [routerLink]="['/baby-body-map']" class="body-image-link">
  <img src="assets/baby-bodyparts.png">
</a>

<a [routerLink]="['/female-body-map']" class="body-image-link">
  <img src="assets/female-bodyparts.png">
</a>

<a [routerLink]="['/male-body-map']" class="body-image-link">
  <img src="assets/male-bodyparts.png">
</a>
      </div>
    </div>
  </div>
</div>

<!-- Profile -->
<div *ngSwitchCase="'profile'" class="profile-section">
  <h2>Patient Profile</h2>
<div *ngIf="!isEditing && !showDetails" class="item-card">
  <p><strong>Name:</strong> {{ patientName }}</p>
  <p><strong>Email:</strong> {{ profileForm.get('email')?.value }}</p>

  <div class="button-group">
    <button 
      (click)="showDetails = true" 
      style="background-color: #1976d2; color: white; border: none; padding: 10px 16px; border-radius: 4px; cursor: pointer; font-weight: bold;">
      View Profile
    </button>

    <button 
      (click)="enableEdit()" 
      style="background-color: #e0e0e0; color: #333; border: none; padding: 10px 16px; border-radius: 4px; cursor: pointer; font-weight: bold;">
      Edit Profile
    </button>
  </div>
</div>
<!-- View Mode -->
<div *ngIf="showDetails && !isEditing" class="item-card">
  <p><strong>Name:</strong> {{ patientName }}</p>
  <p><strong>Email:</strong> {{ profileForm.get('email')?.value }}</p>
  <p><strong>Phone:</strong> {{ profileForm.get('phoneNumber')?.value }}</p>
  <p><strong>Gender:</strong> {{ profileForm.get('gender')?.value }}</p>
  <p><strong>DOB:</strong> {{ profileForm.get('dob')?.value }}</p>
  <p><strong>Address:</strong> {{ profileForm.get('adress')?.value }}</p>
  <p><strong>Blood Group:</strong> {{ profileForm.get('bloodGroup')?.value }}</p>
  <p><strong>Emergency Contact:</strong> {{ profileForm.get('emergencyContact')?.value }}</p>

  <div class="button-group">
    <button 
      (click)="showDetails = false" 
      style="background-color: #1976d2; color: white; border: none; padding: 10px 16px; border-radius: 4px; cursor: pointer; font-weight: bold;">
      Close
    </button>
    <button 
      (click)="downloadProfilePdf()" 
      style="background-color: #4caf50; color: white; border: none; padding: 10px 16px; border-radius: 4px; cursor: pointer; font-weight: bold;">
      Download PDF
    </button>
  </div>
</div>
<!-- Edit Mode -->

<!-- Success Message -->
<div *ngIf="successMessage" class="success-message">
  {{ successMessage }}
</div>

<!-- Edit Mode Form -->
<form *ngIf="isEditing" [formGroup]="profileForm" (ngSubmit)="saveProfile()">
<div *ngIf="profileForm.get('fieldName')?.invalid && profileForm.get('fieldName')?.touched" class="error">
  Appropriate error message
</div>
  <p><strong>Name:</strong> {{ patientName }}</p>
  <p><strong>Email:</strong> {{ profileForm.get('email')?.value }}</p>

  <div class="item-card">
    <!-- Phone Number -->
    <label>Phone Number:</label>
    <input formControlName="phoneNumber" type="text" maxlength="10" />
    <div *ngIf="profileForm.get('phoneNumber')?.invalid && profileForm.get('phoneNumber')?.touched" class="error">
      Phone number must be 10 digits.
    </div>

    <!-- Gender -->
    <label>Gender:</label>
    <select formControlName="gender">
      <option value="">Select Gender</option>
      <option value="Male">Male</option>
      <option value="Female">Female</option>
      <option value="Other">Other</option>
    </select>
    <div *ngIf="profileForm.get('gender')?.invalid && profileForm.get('gender')?.touched" class="error">
      Gender is required.
    </div>

    <!-- DOB -->
    <label>DOB:</label>
    <input formControlName="dob" type="date" />
    <div *ngIf="profileForm.get('dob')?.invalid && profileForm.get('dob')?.touched" class="error">
      Date of birth is required.
    </div>

    <!-- Address -->
    <label>Address:</label>
    <input formControlName="adress" type="text" maxlength="100" (input)="capitalizeAddress()" />
    <div *ngIf="profileForm.get('adress')?.invalid && profileForm.get('adress')?.touched" class="error">
      Address is required and max 100 characters.
    </div>

    <!-- Blood Group -->
    <label>Blood Group:</label>
    <select formControlName="bloodGroup">
      <option value="">Select Blood Group</option>
      <option *ngFor="let group of bloodGroups" [value]="group">{{ group }}</option>
    </select>
    <div *ngIf="profileForm.get('bloodGroup')?.invalid && profileForm.get('bloodGroup')?.touched" class="error">
      Blood group is required.
    </div>

    <!-- Emergency Contact -->
    <label>Emergency Contact:</label>
    <input formControlName="emergencyContact" type="text" maxlength="10" />
    <div *ngIf="profileForm.get('emergencyContact')?.invalid && profileForm.get('emergencyContact')?.touched" class="error">
      Emergency contact must be 10 digits.
    </div>
  </div>

  <!-- Buttons -->
  <div class="button-group">
    <button type="submit" class="primary-btn">Save</button>
    <button type="button" class="secondary-btn" (click)="cancelEdit()">Cancel</button>
  </div>
</form>
</div>

<!-- Appointment -->
    <div *ngSwitchCase="'appointment'" class="dashboard-container">
      <h2>Appointment Section</h2>

      <!-- Booking Search -->
      <app-booking-search
        *ngIf="view === 'search'" 
(doctorSelected)="showDoctors($event)">
      </app-booking-search>

      <!-- Booking Results -->

<app-booking-results
  *ngIf="view === 'doctors'"
  [q]="searchQuery"
  (viewProfile)="showDoctorProfile($event)"
  (backToSearch)="view = 'search'">
</app-booking-results>

      
      <!-- Doctor Profile -->

<app-doctor-profile
  *ngIf="view === 'doctor-profile'"
  [doctorId]="selectedDoctorId!"
  (back)="view = 'doctors'"
  (bookAppointment)="goToScheduler($event)">
</app-doctor-profile>


      
<!-- Appointment Scheduler -->

<app-appointment-scheduler
  *ngIf="view === 'scheduler'"
  [doctorId]="schedulerDoctorId!"
  (back)="view = 'doctor-profile'">
</app-appointment-scheduler>




    </div>
    
    <!-- Appointment Schedules -->
    <!-- Other sections -->
    <div *ngSwitchCase="'appointmentschedule'">
      <!-- Notification content -->
    </div>

    <div *ngSwitchCase="'medical-history'">
      <!-- Medical history content -->
    </div>

    
<div *ngSwitchCase="'medicine'" class="dashboard-container">
  <h2>Medical History</h2>
  <app-medicalhistory></app-medicalhistory>
</div>

    
  </ng-container>
</div>